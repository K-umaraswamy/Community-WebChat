var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _react=_interopRequireWildcard(require("react"));var _FuegoContext=_interopRequireDefault(require("../FuegoContext"));var _jsxFileName="/Users/Fernando/Developer/Learning Babel/fuego/src/FuegoProvider/index.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var FuegoProvider=function FuegoProvider(_ref){var fuego=_ref.fuego,children=_ref.children;var listeners=(0,_react.useRef)({});var addListener=function addListener(name,listener){listeners.current[name]=listener;var numberOfListeners=Object.keys(listeners.current).filter(function(name){return listeners.current[name];}).length;if(numberOfListeners>=4)console.warn('Fuego warning: too many listeners',"You currently have "+numberOfListeners+" firestore listeners running. This can slow perfomance. Consider refactoring, or leaving the \"unsubscribeOnUnmount\" parameter set to true.","If you aren't sure what this error means, search for files that have the useFuego function, with the parameter listen: true");return listeners.current[name];};var removeListener=function removeListener(name){function listenerExists(listener){return!!listener&&!!listener&&typeof listener==='function';}if(listenerExists(listeners.current[name])){;listeners.current[name]();listeners.current[name]=null;}};var doesListenerExist=function doesListenerExist(name){return!!listeners.current[name];};var getListener=function getListener(name){if(doesListenerExist(name))return listeners.current[name];return null;};var value=_objectSpread({},fuego,{addListener:addListener,removeListener:removeListener,doesListenerExist:doesListenerExist,getListener:getListener});return _react.default.createElement(_FuegoContext.default.Provider,(0,_extends2.default)({value:value},{__source:{fileName:_jsxFileName,lineNumber:61}}),children);};var _default=FuegoProvider;exports.default=_default;
//# sourceMappingURL=index.js.map