{"version":3,"sources":["index.tsx"],"names":["React","useRef","useCallback","LongPressGestureHandler","State","TapGestureHandler","Touchable","props","doubleTapRef","onLongPress","onPress","handleDoubleTap","onDoubleTap","id","onHandlerStateChange","event","nativeEvent","state","ACTIVE","onSingleTap","longPressDelay","doubleTapDelay","children"],"mappings":"oHAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,WAAxB,KAA8D,OAA9D,CAGA,OACCC,uBADD,CAECC,KAFD,CAGCC,iBAHD,KAIO,8BAJP,CAMA,GAAMC,CAAAA,SAA4C,CAAG,QAA/CA,CAAAA,SAA+C,CAAAC,KAAK,CAAI,CAC7D,GAAMC,CAAAA,YAAY,CAAGP,MAAM,CAAoB,IAApB,CAA3B,CAD6D,GAErDQ,CAAAA,WAFqD,CAEMF,KAFN,CAErDE,WAFqD,CAExCC,OAFwC,CAEMH,KAFN,CAExCG,OAFwC,CAElBC,eAFkB,CAEMJ,KAFN,CAE/BK,WAF+B,CAEDC,EAFC,CAEMN,KAFN,CAEDM,EAFC,CAG7D,GAAMC,CAAAA,oBAAoB,CAAGZ,WAAW,CACvC,SAAAa,KAAK,CAAI,CACR,GAAIA,KAAK,CAACC,WAAN,CAAkBC,KAAlB,GAA4Bb,KAAK,CAACc,MAAtC,CAA8C,CAC7C,GAAIT,WAAJ,CAAiBA,WAAW,CAACI,EAAD,CAAX,CAEjB,CACD,CANsC,CAOvC,CAACJ,WAAD,CAAcI,EAAd,CAPuC,CAAxC,CASA,GAAMM,CAAAA,WAAW,CAAGjB,WAAW,CAC9B,SAAAa,KAAK,CAAI,CACR,GAAIA,KAAK,CAACC,WAAN,CAAkBC,KAAlB,GAA4Bb,KAAK,CAACc,MAAtC,CAA8C,CAC7C,GAAIR,OAAJ,CAAaA,OAAO,CAACG,EAAD,CAAP,CACb,CACD,CAL6B,CAM9B,CAACH,OAAD,CAAUG,EAAV,CAN8B,CAA/B,CAQA,GAAMD,CAAAA,WAAW,CAAGV,WAAW,CAC9B,SAAAa,KAAK,CAAI,CACR,GAAIA,KAAK,CAACC,WAAN,CAAkBC,KAAlB,GAA4Bb,KAAK,CAACc,MAAtC,CAA8C,CAC7C,GAAIP,eAAJ,CAAqBA,eAAe,CAACE,EAAD,CAAf,CACrB,CACD,CAL6B,CAM9B,CAACF,eAAD,CAAkBE,EAAlB,CAN8B,CAA/B,CAQA,MACC,qBAAC,uBAAD,EACC,oBAAoB,CAAEC,oBADvB,CAEC,aAAa,CAAEP,KAAK,CAACa,cAAN,EAAwB,GAFxC,iDAIC,oBAAC,iBAAD,EACC,oBAAoB,CAAED,WADvB,CAEC,OAAO,CAAEX,YAFV,iDAIC,oBAAC,iBAAD,EACC,UAAU,CAAED,KAAK,CAACc,cAAN,EAAwB,GADrC,CAEC,GAAG,CAAEb,YAFN,CAGC,oBAAoB,CAAEI,WAHvB,CAIC,YAAY,CAAE,CAJf,iDAMEL,KAAK,CAACe,QANR,CAJD,CAJD,CADD,CAoBA,CAhDD,CAkDA,cAAehB,CAAAA,SAAf","sourcesContent":["import React, { useRef, useCallback, FunctionComponent } from 'react'\n\nimport { TouchableProps } from '../../types'\nimport {\n\tLongPressGestureHandler,\n\tState,\n\tTapGestureHandler\n} from 'react-native-gesture-handler'\n\nconst Touchable: FunctionComponent<TouchableProps> = props => {\n\tconst doubleTapRef = useRef<TapGestureHandler>(null)\n\tconst { onLongPress, onPress, onDoubleTap: handleDoubleTap, id } = props\n\tconst onHandlerStateChange = useCallback(\n\t\tevent => {\n\t\t\tif (event.nativeEvent.state === State.ACTIVE) {\n\t\t\t\tif (onLongPress) onLongPress(id)\n\t\t\t\t// alert(\"I'm being pressed for so long\")\n\t\t\t}\n\t\t},\n\t\t[onLongPress, id]\n\t)\n\tconst onSingleTap = useCallback(\n\t\tevent => {\n\t\t\tif (event.nativeEvent.state === State.ACTIVE) {\n\t\t\t\tif (onPress) onPress(id)\n\t\t\t}\n\t\t},\n\t\t[onPress, id]\n\t)\n\tconst onDoubleTap = useCallback(\n\t\tevent => {\n\t\t\tif (event.nativeEvent.state === State.ACTIVE) {\n\t\t\t\tif (handleDoubleTap) handleDoubleTap(id)\n\t\t\t}\n\t\t},\n\t\t[handleDoubleTap, id]\n\t)\n\treturn (\n\t\t<LongPressGestureHandler\n\t\t\tonHandlerStateChange={onHandlerStateChange}\n\t\t\tminDurationMs={props.longPressDelay || 500}\n\t\t>\n\t\t\t<TapGestureHandler\n\t\t\t\tonHandlerStateChange={onSingleTap}\n\t\t\t\twaitFor={doubleTapRef}\n\t\t\t>\n\t\t\t\t<TapGestureHandler\n\t\t\t\t\tmaxDelayMs={props.doubleTapDelay || 500}\n\t\t\t\t\tref={doubleTapRef}\n\t\t\t\t\tonHandlerStateChange={onDoubleTap}\n\t\t\t\t\tnumberOfTaps={2}\n\t\t\t\t>\n\t\t\t\t\t{props.children}\n\t\t\t\t</TapGestureHandler>\n\t\t\t</TapGestureHandler>\n\t\t</LongPressGestureHandler>\n\t)\n}\n\nexport default Touchable\n"]}