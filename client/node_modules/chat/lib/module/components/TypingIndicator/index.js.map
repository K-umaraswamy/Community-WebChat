{"version":3,"sources":["index.tsx"],"names":["React","View","StyleSheet","LinearGradient","Animated","Easing","Value","useCode","interpolate","Clock","set","block","startClock","cond","stopClock","timing","dots","length","props","animatedValue","config","duration","toValue","easing","inOut","linear","runLoop","theme","hide","renderDot","index","opacity","inputRange","outputRange","toString","styles","dot","colors","dotEmptyColors","themes","emptyDotColors","start","end","flex","absoluteFillObject","dotColors","container","backgroundColors","wrapper","map","purple","red","default","dotSize","padding","paddingVertical","totalHeight","create","alignItems","paddingHorizontal","borderRadius","flexDirection","height","width","backgroundColor","marginHorizontal","overflow","clock","state","finished","position","time","frameTime"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, StyleSheet } from 'react-native'\nimport { LinearGradient } from 'expo-linear-gradient'\nimport Animated, { Easing } from 'react-native-reanimated'\n\nconst {\n\tValue,\n\tuseCode,\n\tinterpolate,\n\tClock,\n\tset,\n\tblock,\n\tstartClock,\n\tcond,\n\tstopClock,\n\ttiming\n} = Animated\n\nconst dots = [1, 2, 3]\nconst length = dots.length\n\nexport default function(props: TypingIndicatorProps) {\n\tconst animatedValue = new Value(0)\n\tconst config = {\n\t\tduration: 2500,\n\t\ttoValue: new Value(length + 1),\n\t\teasing: Easing.inOut(Easing.linear)\n\t}\n\tuseCode(() => set(animatedValue, runLoop(config)), [animatedValue])\n\n\tconst { theme = 'red' } = props\n\n\tif (props.hide) return null\n\n\tconst renderDot = (index: number) => {\n\t\tconst opacity = interpolate(animatedValue, {\n\t\t\tinputRange: [index - 1, index, index + 1],\n\t\t\toutputRange: [0, 1, 0]\n\t\t})\n\t\treturn (\n\t\t\t<View key={index.toString()} style={styles.dot}>\n\t\t\t\t<LinearGradient\n\t\t\t\t\t{...{\n\t\t\t\t\t\tcolors: props.dotEmptyColors || themes[theme].emptyDotColors,\n\t\t\t\t\t\tstart: [0.9, 0.9],\n\t\t\t\t\t\tend: [0.1, 0.1]\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t/>\n\t\t\t\t<Animated.View style={{ opacity, ...StyleSheet.absoluteFillObject }}>\n\t\t\t\t\t<LinearGradient\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\tcolors: props.dotColors || themes[theme].dotColors,\n\t\t\t\t\t\t\tstart: [0.1, 0.1],\n\t\t\t\t\t\t\tend: [0.9, 0.9]\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\t/>\n\t\t\t\t</Animated.View>\n\t\t\t</View>\n\t\t)\n\t}\n\treturn (\n\t\t<View style={styles.container}>\n\t\t\t<LinearGradient\n\t\t\t\t{...{\n\t\t\t\t\tcolors: props.backgroundColors || themes[theme].backgroundColors,\n\t\t\t\t\tstart: [0.1, 0.1],\n\t\t\t\t\tend: [0.9, 0.9]\n\t\t\t\t}}\n\t\t\t\tstyle={styles.wrapper}\n\t\t\t>\n\t\t\t\t<View style={styles.dots}>{dots.map(renderDot)}</View>\n\t\t\t</LinearGradient>\n\t\t</View>\n\t)\n}\n\nconst themes = {\n\tpurple: {\n\t\tbackgroundColors: ['#7950f2', '#5f3dc4'],\n\t\tdotColors: ['white', 'white'],\n\t\temptyDotColors: ['#adb5bd', '#adb5bd']\n\t},\n\tred: {\n\t\tbackgroundColors: ['#E5E5EA', '#E5E5EA'],\n\t\tdotColors: ['#ff8000', '#ec2a80'],\n\t\temptyDotColors: ['#D1D1D6', '#D1D1D6']\n\t},\n\tdefault: {\n\t\tbackgroundColors: ['#E5E5EA', '#E5E5EA'],\n\t\tdotColors: ['#8E8E93', '#8E8E93'],\n\t\temptyDotColors: ['#D1D1D6', '#D1D1D6']\n\t}\n}\n\nexport interface TypingIndicatorProps {\n\thide?: boolean\n\tbackgroundColors?: string[]\n\tdotColors?: string[]\n\tdotEmptyColors?: string[]\n\ttheme?: 'purple' | 'red' | 'default'\n}\n\nconst dotSize = 9\nconst padding = dotSize / 4\nconst paddingVertical = padding * 5\nconst totalHeight = dotSize + paddingVertical * 2\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\talignItems: 'flex-start'\n\t},\n\twrapper: {\n\t\tpaddingHorizontal: padding * 3,\n\t\tpaddingVertical,\n\t\tborderRadius: totalHeight / 2\n\t},\n\tdots: {\n\t\tflexDirection: 'row'\n\t},\n\tdot: {\n\t\theight: dotSize,\n\t\twidth: dotSize,\n\t\tborderRadius: dotSize / 2,\n\t\tbackgroundColor: 'white',\n\t\tmarginHorizontal: padding,\n\t\toverflow: 'hidden'\n\t}\n})\n\nfunction runLoop(config: Animated.TimingConfig) {\n\tconst clock = new Clock()\n\n\tconst state = {\n\t\tfinished: new Value(0),\n\t\tposition: new Value(0),\n\t\ttime: new Value(0),\n\t\tframeTime: new Value(0)\n\t}\n\n\treturn block([\n\t\t// start right away\n\t\tstartClock(clock),\n\n\t\t// process your state\n\t\ttiming(clock, state, config),\n\n\t\t// when over (processed by timing at the end)\n\t\tcond(state.finished, [\n\t\t\t// we stop\n\t\t\tstopClock(clock),\n\n\t\t\t// set flag ready to be restarted\n\t\t\tset(state.finished, 0),\n\t\t\t// same value as the initial defined in the state creation\n\t\t\tset(state.position, 0),\n\n\t\t\t// very important to reset this ones !!! as mentioned in the doc about timing is saying\n\t\t\tset(state.time, 0),\n\t\t\tset(state.frameTime, 0),\n\n\t\t\t// and we restart\n\t\t\tstartClock(clock)\n\t\t]),\n\n\t\tstate.position\n\t])\n}\n"]}