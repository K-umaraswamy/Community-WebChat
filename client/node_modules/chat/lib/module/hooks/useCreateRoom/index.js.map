{"version":3,"sources":["index.ts"],"names":["useState","useRef","useEffect","Room","useCreateRoom","loading","setLoading","error","setError","roomRef","recipientsRef","start","current","create","console","room"],"mappings":"6HAAA,OAASA,QAAT,CAAmBC,MAAnB,CAA2BC,SAA3B,KAA4C,OAA5C,CAEA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CAEA,QAASC,CAAAA,aAAT,EAAyD,eAC1BJ,QAAQ,CAAC,KAAD,CADkB,wCACjDK,OADiD,eACxCC,UADwC,8BAE9BN,QAAQ,CAAC,IAAD,CAFsB,yCAEjDO,KAFiD,eAE1CC,QAF0C,eAGxD,GAAMC,CAAAA,OAAO,CAAGR,MAAM,CAAmB,IAAnB,CAAtB,CACA,GAAMS,CAAAA,aAAa,CAAGT,MAAM,CAAkB,IAAlB,CAA5B,CAEAC,SAAS,CAAC,UAAM,CACf,GAAMS,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,uHACTN,OAAO,EAAII,OAAO,CAACG,OAAnB,EAA8BF,aAAa,CAACE,OADnC,2CAGXH,OAAO,CAACG,OAAR,CAAkB,IAAlB,CACAF,aAAa,CAACE,OAAd,CAAwB,IAAxB,CAJW,iDAKL,GAAIT,CAAAA,IAAJ,CAASM,OAAO,CAACG,OAAjB,EAA0BC,MAA1B,EALK,wFAOXC,OAAO,CAACP,KAAR,CAAc,2BAAd,cAPW,iEAAd,CAWAI,KAAK,GACL,CAbQ,CAaN,CAACN,OAAD,CAbM,CAAT,CAeA,GAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACE,IAAD,CAAqB,CACnCN,OAAO,CAACG,OAAR,CAAkBG,IAAlB,CACAT,UAAU,CAAC,IAAD,CAAV,CACA,CAHD,CAKA,MAAO,CAAEO,MAAM,CAANA,MAAF,CAAUR,OAAO,CAAPA,OAAV,CAAmBE,KAAK,CAALA,KAAnB,CAAP,CACA,CAED,cAAeH,CAAAA,aAAf","sourcesContent":["import { useState, useRef, useEffect } from 'react'\nimport { NewRoomModel } from '../../classes/Room/types'\nimport Room from '../../classes/Room'\n\nfunction useCreateRoom<RoomModel extends NewRoomModel>() {\n\tconst [loading, setLoading] = useState(false)\n\tconst [error, setError] = useState(null)\n\tconst roomRef = useRef<RoomModel | null>(null)\n\tconst recipientsRef = useRef<string[] | null>(null)\n\n\tuseEffect(() => {\n\t\tconst start = async () => {\n\t\t\tif (loading && roomRef.current && recipientsRef.current) {\n\t\t\t\ttry {\n\t\t\t\t\troomRef.current = null\n\t\t\t\t\trecipientsRef.current = null\n\t\t\t\t\tawait new Room(roomRef.current).create()\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('useCreateRoom hook error:', e)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstart()\n\t}, [loading])\n\n\tconst create = (room: RoomModel) => {\n\t\troomRef.current = room\n\t\tsetLoading(true)\n\t}\n\n\treturn { create, loading, error }\n}\n\nexport default useCreateRoom\n"]}