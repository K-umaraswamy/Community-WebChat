import _regeneratorRuntime from"@babel/runtime/regenerator";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useState,useRef,useEffect}from'react';import Room from'../../classes/Room';function useCreateRoom(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var roomRef=useRef(null);var recipientsRef=useRef(null);useEffect(function(){var start=function start(){return _regeneratorRuntime.async(function start$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(loading&&roomRef.current&&recipientsRef.current)){_context.next=11;break;}_context.prev=1;roomRef.current=null;recipientsRef.current=null;_context.next=6;return _regeneratorRuntime.awrap(new Room(roomRef.current).create());case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);console.error('useCreateRoom hook error:',_context.t0);case 11:case"end":return _context.stop();}}},null,null,[[1,8]]);};start();},[loading]);var create=function create(room){roomRef.current=room;setLoading(true);};return{create:create,loading:loading,error:error};}export default useCreateRoom;
//# sourceMappingURL=index.js.map