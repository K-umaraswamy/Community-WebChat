import { ChatConfig } from './types'

export default class Chat {
	private chat: ChatConfig
	constructor(chat: ChatConfig = {}) {
		this.chat = chat
		// this.chat = {
		// 	...chat,
		// 	httpCallables: {
		// 		sendMessageFromFeed: 'sendMessageFromFeed',
		// 		sendMessageToPeople: 'sendToPeople',
		// 		sendMessageToGroup: 'sendToGroup',
		// 		...(chat.httpCallables || {})
		// 	}
		// }
	}
	get roomsCollection() {
		return this.chat.roomsCollection || 'rooms'
	}
	get messagesCollection() {
		return this.chat.messagesCollection || 'messages'
	}
	get httpCallables() {
		return {
			sendMessageFromFeed:
				(this.chat.httpCallables &&
					this.chat.httpCallables.sendMessageFromFeed) ||
				'sendMessageFromFeed',
			sendMessageToPeople:
				(this.chat.httpCallables &&
					this.chat.httpCallables.sendMessageToPeople) ||
				'sendMessageToPeople',
			sendMessageToGroup:
				(this.chat.httpCallables &&
					this.chat.httpCallables.sendMessageToGroup) ||
				'sendMessageToGroup',
			createRoom:
				(this.chat.httpCallables && this.chat.httpCallables.createRoom) ||
				'createRoom',
			sendMessageToRooms:
				(this.chat.httpCallables &&
					this.chat.httpCallables.sendMessageToRooms) ||
				'sendMessageToRooms'
		}
	}
}
