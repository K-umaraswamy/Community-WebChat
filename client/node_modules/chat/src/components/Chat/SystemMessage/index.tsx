import React from 'react'
import { View, Text, StyleSheet } from 'react-native'
import moment from 'moment'
import { SystemMessageProps } from '../types'

const SystemMessage = React.memo((props: SystemMessageProps) => {
	return (
		<View style={[styles.container, props.containerStyle]}>
			<Text style={styles.date}>
				{props.dateToStringFunc
					? props.dateToStringFunc(props.createdAt)
					: moment(props.createdAt).calendar(undefined, {
							lastDay: '[Yesterday]',
							sameDay: 'LT',
							nextDay: '[Tomorrow at] LT',
							lastWeek: 'dddd',
							nextWeek: '[Next] dddd',
							sameElse: 'L'
					  })}
			</Text>
			<Text style={styles.text}>{props.text}</Text>
		</View>
	)
})

export default SystemMessage

const styles = StyleSheet.create({
	container: {
		paddingHorizontal: 10,
		paddingVertical: 5
	},
	date: {
		color: 'gray',
		textAlign: 'center',
		fontSize: 14
	},
	text: {
		color: 'gray',
		fontWeight: '500',
		textAlign: 'center',
		fontSize: 14
	}
})
