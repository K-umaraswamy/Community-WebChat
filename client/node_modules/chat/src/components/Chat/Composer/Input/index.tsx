import React from 'react'
import { TextInput, StyleSheet, View } from 'react-native'
import { InputProps } from '../../types'

const Input = (props: InputProps) => {
	return (
		<View style={[styles.container, props.containerStyle]}>
			<TextInput
				{...props.inputProps}
				placeholder={props.placeholderText || 'Type a new message...'}
				placeholderTextColor={props.placeholderColor || 'lightgray'}
				selectionColor={props.tintColor || 'blue'}
				onChangeText={props.onChangeText}
				value={props.text}
				style={[styles.input, props.style]}
				multiline
				ref={props.inputRef}
				returnKeyLabel={props.sendOnKeyboardReturn ? 'Send' : undefined}
				returnKeyType={props.sendOnKeyboardReturn ? 'send' : undefined}
				onSubmitEditing={props.onSubmitEditing}
			/>
		</View>
	)
}

Input.displayName = 'Juice.Input'

export default React.memo(Input)

const styles = StyleSheet.create({
	container: {
		flex: 1,
		flexDirection: 'row',
		marginHorizontal: 10,
		borderRadius: 20,
		borderWidth: 1,
		borderColor: 'lightgray'
	},
	input: {
		flex: 1,
		padding: 10,
		paddingTop: 10,
		fontSize: 16
	}
})
