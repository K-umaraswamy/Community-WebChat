import React, { useCallback } from 'react'
import { Button, StyleSheet, TouchableOpacity, View } from 'react-native'
import { Ionicons } from '@expo/vector-icons'
import { SendButtonProps } from '../../types'

const Send = (props: SendButtonProps) => {
	if (props.mode === 'hidden') return null
	const { containerStyle } = props
	const Container = useCallback(
		({ children }) => {
			const style = {
				...styles.container,
				...(containerStyle || {}),
			}
			return <View style={style}>{children}</View>
		},
		[containerStyle],
	)
	if (props.mode === 'icon')
		return (
			<Container>
				<TouchableOpacity onPress={props.onSend} style={[styles.button, { backgroundColor: props.tintColor || 'blue' }]}>
					<Ionicons name="ios-arrow-round-up" size={size * 1.5} color={'white'} />
				</TouchableOpacity>
			</Container>
		)
	return (
		<Container>
			<Button title="Send" onPress={props.onSend} color={props.tintColor || 'blue'} />
		</Container>
	)
}

export default React.memo(Send)

const size = 20

const styles = StyleSheet.create({
	container: {
		paddingRight: 5,
		paddingBottom: 5,
	},
	button: {
		borderRadius: size,
		height: size * 1.5,
		width: size * 1.5,
		justifyContent: 'center',
		alignItems: 'center',
		// padding: size / 2
	},
})
