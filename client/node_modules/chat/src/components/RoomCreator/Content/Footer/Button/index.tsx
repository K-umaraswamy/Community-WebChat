import React from 'react'
import {
	Text,
	TouchableOpacity,
	StyleSheet,
	ActivityIndicator,
	View
} from 'react-native'
import { RenderButtonProps } from '../../../types'

export default (props: RenderButtonProps) => {
	const background = { backgroundColor: props.backgroundColor }
	return (
		<TouchableOpacity
			onPress={props.onPress}
			style={[
				styles.button,
				!props.ready ? styles.disabled : props.index > 0 ? styles.second : {},
				background
			]}
		>
			<Text style={[styles.text, { color: props.textColor }]}>
				{props.text}
			</Text>
			{props.loading && (
				<View style={[styles.loader, background]}>
					<ActivityIndicator color={props.textColor} />
				</View>
			)}
		</TouchableOpacity>
	)
}

const styles = StyleSheet.create({
	button: {
		padding: 10,
		backgroundColor: 'blue',
		alignItems: 'center',
		flex: 1
	},
	second: { backgroundColor: 'hotpink' },
	disabled: {
		backgroundColor: 'lightgray'
	},
	text: {
		fontWeight: 'bold',
		fontSize: 18,
		color: 'white'
	},
	loader: {
		...StyleSheet.absoluteFillObject,
		justifyContent: 'center',
		alignItems: 'center'
	}
})
