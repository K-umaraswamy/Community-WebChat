{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { FileIcon } from 'react-file-utils';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useFileState } from './hooks/useFileState';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from './icons';\nexport var AttachmentPreviewList = function () {\n  var _a = useMessageInputContext('AttachmentPreviewList'),\n    fileOrder = _a.fileOrder,\n    imageOrder = _a.imageOrder;\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-list'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-list-scroll-container',\n    \"data-testid\": 'attachment-list-scroll-container'\n  }, imageOrder.map(function (id) {\n    return React.createElement(ImagePreviewItem, {\n      id: id,\n      key: id\n    });\n  }), fileOrder.map(function (id) {\n    return React.createElement(FilePreviewItem, {\n      id: id,\n      key: id\n    });\n  })));\n};\nvar ImagePreviewItem = function (_a) {\n  var _b;\n  var id = _a.id;\n  var _c = useMessageInputContext('ImagePreviewItem'),\n    imageUploads = _c.imageUploads,\n    removeImage = _c.removeImage,\n    uploadImage = _c.uploadImage;\n  var handleRemove = useCallback(function (e) {\n    e.stopPropagation();\n    removeImage(id);\n  }, [removeImage, id]);\n  var handleRetry = useCallback(function () {\n    return uploadImage(id);\n  }, [uploadImage, id]);\n  var image = imageUploads[id];\n  var state = useFileState(image);\n  // do not display scraped attachments\n  if (!image || image.og_scrape_url) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-image',\n    \"data-testid\": 'attachment-preview-image'\n  }, React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-delete',\n    \"data-testid\": 'image-preview-item-delete-button',\n    disabled: state.uploading,\n    onClick: handleRemove\n  }, React.createElement(CloseIcon, null)), state.failed && React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-image',\n    \"data-testid\": 'image-preview-item-retry-button',\n    onClick: handleRetry\n  }, React.createElement(RetryIcon, null)), state.uploading && React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-image-loading'\n  }, React.createElement(LoadingIndicatorIcon, {\n    size: 17\n  })), (image.previewUri || image.url) && React.createElement(\"img\", {\n    alt: image.file.name,\n    className: 'str-chat__attachment-preview-thumbnail',\n    src: (_b = image.previewUri) !== null && _b !== void 0 ? _b : image.url\n  }));\n};\nvar FilePreviewItem = function (_a) {\n  var id = _a.id;\n  var _b = useMessageInputContext('FilePreviewItem'),\n    fileUploads = _b.fileUploads,\n    removeFile = _b.removeFile,\n    uploadFile = _b.uploadFile;\n  var handleRemove = useCallback(function (e) {\n    e.stopPropagation();\n    removeFile(id);\n  }, [removeFile, id]);\n  var handleRetry = useCallback(function () {\n    return uploadFile(id);\n  }, [uploadFile, id]);\n  var file = fileUploads[id];\n  var state = useFileState(file);\n  if (!file) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file',\n    \"data-testid\": 'attachment-preview-file'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-icon'\n  }, React.createElement(FileIcon, {\n    filename: file.file.name,\n    mimeType: file.file.type,\n    version: '2'\n  })), React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-delete',\n    \"data-testid\": 'file-preview-item-delete-button',\n    disabled: state.uploading,\n    onClick: handleRemove\n  }, React.createElement(CloseIcon, null)), state.failed && React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file',\n    \"data-testid\": 'file-preview-item-retry-button',\n    onClick: handleRetry\n  }, React.createElement(RetryIcon, null)), React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-end'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-name'\n  }, file.file.name), state.finished && React.createElement(\"a\", {\n    className: 'str-chat__attachment-preview-file-download',\n    download: true,\n    href: file.url,\n    rel: 'noreferrer',\n    target: '_blank'\n  }, React.createElement(DownloadIcon, null)), state.uploading && React.createElement(LoadingIndicatorIcon, {\n    size: 17\n  })));\n};","map":{"version":3,"names":["React","useCallback","FileIcon","useMessageInputContext","useFileState","CloseIcon","DownloadIcon","LoadingIndicatorIcon","RetryIcon","AttachmentPreviewList","_a","fileOrder","imageOrder","createElement","className","map","id","ImagePreviewItem","key","FilePreviewItem","_b","_c","imageUploads","removeImage","uploadImage","handleRemove","e","stopPropagation","handleRetry","image","state","og_scrape_url","disabled","uploading","onClick","failed","size","previewUri","url","alt","file","name","src","fileUploads","removeFile","uploadFile","filename","mimeType","type","version","finished","download","href","rel","target"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/chat_Web/client/node_modules/stream-chat-react/dist/components/MessageInput/AttachmentPreviewList.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { FileIcon } from 'react-file-utils';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useFileState } from './hooks/useFileState';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from './icons';\nexport var AttachmentPreviewList = function () {\n    var _a = useMessageInputContext('AttachmentPreviewList'), fileOrder = _a.fileOrder, imageOrder = _a.imageOrder;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-list' },\n        React.createElement(\"div\", { className: 'str-chat__attachment-list-scroll-container', \"data-testid\": 'attachment-list-scroll-container' },\n            imageOrder.map(function (id) { return (React.createElement(ImagePreviewItem, { id: id, key: id })); }),\n            fileOrder.map(function (id) { return (React.createElement(FilePreviewItem, { id: id, key: id })); }))));\n};\nvar ImagePreviewItem = function (_a) {\n    var _b;\n    var id = _a.id;\n    var _c = useMessageInputContext('ImagePreviewItem'), imageUploads = _c.imageUploads, removeImage = _c.removeImage, uploadImage = _c.uploadImage;\n    var handleRemove = useCallback(function (e) {\n        e.stopPropagation();\n        removeImage(id);\n    }, [removeImage, id]);\n    var handleRetry = useCallback(function () { return uploadImage(id); }, [uploadImage, id]);\n    var image = imageUploads[id];\n    var state = useFileState(image);\n    // do not display scraped attachments\n    if (!image || image.og_scrape_url)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-image', \"data-testid\": 'attachment-preview-image' },\n        React.createElement(\"button\", { className: 'str-chat__attachment-preview-delete', \"data-testid\": 'image-preview-item-delete-button', disabled: state.uploading, onClick: handleRemove },\n            React.createElement(CloseIcon, null)),\n        state.failed && (React.createElement(\"button\", { className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-image', \"data-testid\": 'image-preview-item-retry-button', onClick: handleRetry },\n            React.createElement(RetryIcon, null))),\n        state.uploading && (React.createElement(\"div\", { className: 'str-chat__attachment-preview-image-loading' },\n            React.createElement(LoadingIndicatorIcon, { size: 17 }))),\n        (image.previewUri || image.url) && (React.createElement(\"img\", { alt: image.file.name, className: 'str-chat__attachment-preview-thumbnail', src: (_b = image.previewUri) !== null && _b !== void 0 ? _b : image.url }))));\n};\nvar FilePreviewItem = function (_a) {\n    var id = _a.id;\n    var _b = useMessageInputContext('FilePreviewItem'), fileUploads = _b.fileUploads, removeFile = _b.removeFile, uploadFile = _b.uploadFile;\n    var handleRemove = useCallback(function (e) {\n        e.stopPropagation();\n        removeFile(id);\n    }, [removeFile, id]);\n    var handleRetry = useCallback(function () { return uploadFile(id); }, [uploadFile, id]);\n    var file = fileUploads[id];\n    var state = useFileState(file);\n    if (!file)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-file', \"data-testid\": 'attachment-preview-file' },\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-icon' },\n            React.createElement(FileIcon, { filename: file.file.name, mimeType: file.file.type, version: '2' })),\n        React.createElement(\"button\", { className: 'str-chat__attachment-preview-delete', \"data-testid\": 'file-preview-item-delete-button', disabled: state.uploading, onClick: handleRemove },\n            React.createElement(CloseIcon, null)),\n        state.failed && (React.createElement(\"button\", { className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file', \"data-testid\": 'file-preview-item-retry-button', onClick: handleRetry },\n            React.createElement(RetryIcon, null))),\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-end' },\n            React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-name' }, file.file.name),\n            state.finished && (React.createElement(\"a\", { className: 'str-chat__attachment-preview-file-download', download: true, href: file.url, rel: 'noreferrer', target: '_blank' },\n                React.createElement(DownloadIcon, null))),\n            state.uploading && React.createElement(LoadingIndicatorIcon, { size: 17 }))));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,sBAAsB,QAAQ,mCAAmC;AAC1E,SAASC,YAAY,QAAQ,sBAAsB;AACnD,SAASC,SAAS,EAAEC,YAAY,EAAEC,oBAAoB,EAAEC,SAAS,QAAQ,SAAS;AAClF,OAAO,IAAIC,qBAAqB,GAAG,SAAAA,CAAA,EAAY;EAC3C,IAAIC,EAAE,GAAGP,sBAAsB,CAAC,uBAAuB,CAAC;IAAEQ,SAAS,GAAGD,EAAE,CAACC,SAAS;IAAEC,UAAU,GAAGF,EAAE,CAACE,UAAU;EAC9G,OAAQZ,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAoC,CAAC,EACjFd,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,4CAA4C;IAAE,aAAa,EAAE;EAAmC,CAAC,EACrIF,UAAU,CAACG,GAAG,CAAC,UAAUC,EAAE,EAAE;IAAE,OAAQhB,KAAK,CAACa,aAAa,CAACI,gBAAgB,EAAE;MAAED,EAAE,EAAEA,EAAE;MAAEE,GAAG,EAAEF;IAAG,CAAC,CAAC;EAAG,CAAC,CAAC,EACtGL,SAAS,CAACI,GAAG,CAAC,UAAUC,EAAE,EAAE;IAAE,OAAQhB,KAAK,CAACa,aAAa,CAACM,eAAe,EAAE;MAAEH,EAAE,EAAEA,EAAE;MAAEE,GAAG,EAAEF;IAAG,CAAC,CAAC;EAAG,CAAC,CAAC,CAAC,CAAC;AAClH,CAAC;AACD,IAAIC,gBAAgB,GAAG,SAAAA,CAAUP,EAAE,EAAE;EACjC,IAAIU,EAAE;EACN,IAAIJ,EAAE,GAAGN,EAAE,CAACM,EAAE;EACd,IAAIK,EAAE,GAAGlB,sBAAsB,CAAC,kBAAkB,CAAC;IAAEmB,YAAY,GAAGD,EAAE,CAACC,YAAY;IAAEC,WAAW,GAAGF,EAAE,CAACE,WAAW;IAAEC,WAAW,GAAGH,EAAE,CAACG,WAAW;EAC/I,IAAIC,YAAY,GAAGxB,WAAW,CAAC,UAAUyB,CAAC,EAAE;IACxCA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBJ,WAAW,CAACP,EAAE,CAAC;EACnB,CAAC,EAAE,CAACO,WAAW,EAAEP,EAAE,CAAC,CAAC;EACrB,IAAIY,WAAW,GAAG3B,WAAW,CAAC,YAAY;IAAE,OAAOuB,WAAW,CAACR,EAAE,CAAC;EAAE,CAAC,EAAE,CAACQ,WAAW,EAAER,EAAE,CAAC,CAAC;EACzF,IAAIa,KAAK,GAAGP,YAAY,CAACN,EAAE,CAAC;EAC5B,IAAIc,KAAK,GAAG1B,YAAY,CAACyB,KAAK,CAAC;EAC/B;EACA,IAAI,CAACA,KAAK,IAAIA,KAAK,CAACE,aAAa,EAC7B,OAAO,IAAI;EACf,OAAQ/B,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,oCAAoC;IAAE,aAAa,EAAE;EAA2B,CAAC,EAC7Hd,KAAK,CAACa,aAAa,CAAC,QAAQ,EAAE;IAAEC,SAAS,EAAE,qCAAqC;IAAE,aAAa,EAAE,kCAAkC;IAAEkB,QAAQ,EAAEF,KAAK,CAACG,SAAS;IAAEC,OAAO,EAAET;EAAa,CAAC,EACnLzB,KAAK,CAACa,aAAa,CAACR,SAAS,EAAE,IAAI,CAAC,CAAC,EACzCyB,KAAK,CAACK,MAAM,IAAKnC,KAAK,CAACa,aAAa,CAAC,QAAQ,EAAE;IAAEC,SAAS,EAAE,6EAA6E;IAAE,aAAa,EAAE,iCAAiC;IAAEoB,OAAO,EAAEN;EAAY,CAAC,EAC/M5B,KAAK,CAACa,aAAa,CAACL,SAAS,EAAE,IAAI,CAAC,CAAE,EAC1CsB,KAAK,CAACG,SAAS,IAAKjC,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAA6C,CAAC,EACtGd,KAAK,CAACa,aAAa,CAACN,oBAAoB,EAAE;IAAE6B,IAAI,EAAE;EAAG,CAAC,CAAC,CAAE,EAC7D,CAACP,KAAK,CAACQ,UAAU,IAAIR,KAAK,CAACS,GAAG,KAAMtC,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAE0B,GAAG,EAAEV,KAAK,CAACW,IAAI,CAACC,IAAI;IAAE3B,SAAS,EAAE,wCAAwC;IAAE4B,GAAG,EAAE,CAACtB,EAAE,GAAGS,KAAK,CAACQ,UAAU,MAAM,IAAI,IAAIjB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGS,KAAK,CAACS;EAAI,CAAC,CAAE,CAAC;AAChO,CAAC;AACD,IAAInB,eAAe,GAAG,SAAAA,CAAUT,EAAE,EAAE;EAChC,IAAIM,EAAE,GAAGN,EAAE,CAACM,EAAE;EACd,IAAII,EAAE,GAAGjB,sBAAsB,CAAC,iBAAiB,CAAC;IAAEwC,WAAW,GAAGvB,EAAE,CAACuB,WAAW;IAAEC,UAAU,GAAGxB,EAAE,CAACwB,UAAU;IAAEC,UAAU,GAAGzB,EAAE,CAACyB,UAAU;EACxI,IAAIpB,YAAY,GAAGxB,WAAW,CAAC,UAAUyB,CAAC,EAAE;IACxCA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBiB,UAAU,CAAC5B,EAAE,CAAC;EAClB,CAAC,EAAE,CAAC4B,UAAU,EAAE5B,EAAE,CAAC,CAAC;EACpB,IAAIY,WAAW,GAAG3B,WAAW,CAAC,YAAY;IAAE,OAAO4C,UAAU,CAAC7B,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC6B,UAAU,EAAE7B,EAAE,CAAC,CAAC;EACvF,IAAIwB,IAAI,GAAGG,WAAW,CAAC3B,EAAE,CAAC;EAC1B,IAAIc,KAAK,GAAG1B,YAAY,CAACoC,IAAI,CAAC;EAC9B,IAAI,CAACA,IAAI,EACL,OAAO,IAAI;EACf,OAAQxC,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE,mCAAmC;IAAE,aAAa,EAAE;EAA0B,CAAC,EAC3Hd,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAyC,CAAC,EAC9Ed,KAAK,CAACa,aAAa,CAACX,QAAQ,EAAE;IAAE4C,QAAQ,EAAEN,IAAI,CAACA,IAAI,CAACC,IAAI;IAAEM,QAAQ,EAAEP,IAAI,CAACA,IAAI,CAACQ,IAAI;IAAEC,OAAO,EAAE;EAAI,CAAC,CAAC,CAAC,EACxGjD,KAAK,CAACa,aAAa,CAAC,QAAQ,EAAE;IAAEC,SAAS,EAAE,qCAAqC;IAAE,aAAa,EAAE,iCAAiC;IAAEkB,QAAQ,EAAEF,KAAK,CAACG,SAAS;IAAEC,OAAO,EAAET;EAAa,CAAC,EAClLzB,KAAK,CAACa,aAAa,CAACR,SAAS,EAAE,IAAI,CAAC,CAAC,EACzCyB,KAAK,CAACK,MAAM,IAAKnC,KAAK,CAACa,aAAa,CAAC,QAAQ,EAAE;IAAEC,SAAS,EAAE,4EAA4E;IAAE,aAAa,EAAE,gCAAgC;IAAEoB,OAAO,EAAEN;EAAY,CAAC,EAC7M5B,KAAK,CAACa,aAAa,CAACL,SAAS,EAAE,IAAI,CAAC,CAAE,EAC1CR,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAwC,CAAC,EAC7Ed,KAAK,CAACa,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAyC,CAAC,EAAE0B,IAAI,CAACA,IAAI,CAACC,IAAI,CAAC,EACnGX,KAAK,CAACoB,QAAQ,IAAKlD,KAAK,CAACa,aAAa,CAAC,GAAG,EAAE;IAAEC,SAAS,EAAE,4CAA4C;IAAEqC,QAAQ,EAAE,IAAI;IAAEC,IAAI,EAAEZ,IAAI,CAACF,GAAG;IAAEe,GAAG,EAAE,YAAY;IAAEC,MAAM,EAAE;EAAS,CAAC,EACxKtD,KAAK,CAACa,aAAa,CAACP,YAAY,EAAE,IAAI,CAAC,CAAE,EAC7CwB,KAAK,CAACG,SAAS,IAAIjC,KAAK,CAACa,aAAa,CAACN,oBAAoB,EAAE;IAAE6B,IAAI,EAAE;EAAG,CAAC,CAAC,CAAC,CAAC;AACxF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}