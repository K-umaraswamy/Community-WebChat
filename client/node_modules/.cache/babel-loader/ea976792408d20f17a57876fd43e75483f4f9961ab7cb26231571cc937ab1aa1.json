{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { ActionsIcon as DefaultActionsIcon } from '../Message/icons';\nimport { isUserMuted } from '../Message/utils';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useMessageContext } from '../../context/MessageContext';\nexport var MessageActions = function (props) {\n  var _a = props.ActionsIcon,\n    ActionsIcon = _a === void 0 ? DefaultActionsIcon : _a,\n    _b = props.customWrapperClass,\n    customWrapperClass = _b === void 0 ? '' : _b,\n    propGetMessageActions = props.getMessageActions,\n    propHandleDelete = props.handleDelete,\n    propHandleFlag = props.handleFlag,\n    propHandleMute = props.handleMute,\n    propHandlePin = props.handlePin,\n    inline = props.inline,\n    propMessage = props.message,\n    messageWrapperRef = props.messageWrapperRef,\n    mine = props.mine;\n  var mutes = useChatContext('MessageActions').mutes;\n  var _c = useMessageContext('MessageActions'),\n    customMessageActions = _c.customMessageActions,\n    contextGetMessageActions = _c.getMessageActions,\n    contextHandleDelete = _c.handleDelete,\n    contextHandleFlag = _c.handleFlag,\n    contextHandleMute = _c.handleMute,\n    contextHandlePin = _c.handlePin,\n    isMyMessage = _c.isMyMessage,\n    contextMessage = _c.message,\n    setEditingState = _c.setEditingState;\n  var getMessageActions = propGetMessageActions || contextGetMessageActions;\n  var handleDelete = propHandleDelete || contextHandleDelete;\n  var handleFlag = propHandleFlag || contextHandleFlag;\n  var handleMute = propHandleMute || contextHandleMute;\n  var handlePin = propHandlePin || contextHandlePin;\n  var message = propMessage || contextMessage;\n  var _d = useState(false),\n    actionsBoxOpen = _d[0],\n    setActionsBoxOpen = _d[1];\n  var isMuted = useCallback(function () {\n    return isUserMuted(message, mutes);\n  }, [message, mutes]);\n  var hideOptions = useCallback(function (event) {\n    if (event instanceof KeyboardEvent && event.key !== 'Escape') {\n      return;\n    }\n    setActionsBoxOpen(false);\n  }, []);\n  var messageActions = getMessageActions();\n  var messageDeletedAt = !!(message === null || message === void 0 ? void 0 : message.deleted_at);\n  useEffect(function () {\n    if (messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current) {\n      messageWrapperRef.current.addEventListener('mouseleave', hideOptions);\n    }\n  }, [hideOptions, messageWrapperRef]);\n  useEffect(function () {\n    if (messageDeletedAt) {\n      document.removeEventListener('click', hideOptions);\n    }\n  }, [hideOptions, messageDeletedAt]);\n  useEffect(function () {\n    if (!actionsBoxOpen) return;\n    document.addEventListener('click', hideOptions);\n    document.addEventListener('keyup', hideOptions);\n    return function () {\n      document.removeEventListener('click', hideOptions);\n      document.removeEventListener('keyup', hideOptions);\n    };\n  }, [actionsBoxOpen, hideOptions]);\n  if (!messageActions.length && !customMessageActions) return null;\n  return React.createElement(MessageActionsWrapper, {\n    customWrapperClass: customWrapperClass,\n    inline: inline,\n    setActionsBoxOpen: setActionsBoxOpen\n  }, React.createElement(MessageActionsBox, {\n    getMessageActions: getMessageActions,\n    handleDelete: handleDelete,\n    handleEdit: setEditingState,\n    handleFlag: handleFlag,\n    handleMute: handleMute,\n    handlePin: handlePin,\n    isUserMuted: isMuted,\n    mine: mine ? mine() : isMyMessage(),\n    open: actionsBoxOpen\n  }), React.createElement(\"button\", {\n    \"aria-expanded\": actionsBoxOpen,\n    \"aria-haspopup\": 'true',\n    \"aria-label\": 'Open Message Actions Menu',\n    className: 'str-chat__message-actions-box-button'\n  }, React.createElement(ActionsIcon, {\n    className: 'str-chat__message-action-icon'\n  })));\n};\nvar MessageActionsWrapper = function (props) {\n  var children = props.children,\n    customWrapperClass = props.customWrapperClass,\n    inline = props.inline,\n    setActionsBoxOpen = props.setActionsBoxOpen;\n  var defaultWrapperClass = \"\\n  str-chat__message-simple__actions__action\\n  str-chat__message-simple__actions__action--options\\n  str-chat__message-actions-container\";\n  var wrapperClass = customWrapperClass || defaultWrapperClass;\n  var onClickOptionsAction = function (event) {\n    event.stopPropagation();\n    setActionsBoxOpen(function (prev) {\n      return !prev;\n    });\n  };\n  var wrapperProps = {\n    className: wrapperClass,\n    'data-testid': 'message-actions',\n    onClick: onClickOptionsAction\n  };\n  if (inline) return React.createElement(\"span\", __assign({}, wrapperProps), children);\n  return React.createElement(\"div\", __assign({}, wrapperProps), children);\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useState","MessageActionsBox","ActionsIcon","DefaultActionsIcon","isUserMuted","useChatContext","useMessageContext","MessageActions","props","_a","_b","customWrapperClass","propGetMessageActions","getMessageActions","propHandleDelete","handleDelete","propHandleFlag","handleFlag","propHandleMute","handleMute","propHandlePin","handlePin","inline","propMessage","message","messageWrapperRef","mine","mutes","_c","customMessageActions","contextGetMessageActions","contextHandleDelete","contextHandleFlag","contextHandleMute","contextHandlePin","isMyMessage","contextMessage","setEditingState","_d","actionsBoxOpen","setActionsBoxOpen","isMuted","hideOptions","event","KeyboardEvent","key","messageActions","messageDeletedAt","deleted_at","current","addEventListener","document","removeEventListener","createElement","MessageActionsWrapper","handleEdit","open","className","children","defaultWrapperClass","wrapperClass","onClickOptionsAction","stopPropagation","prev","wrapperProps","onClick"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/chat_Web/client/node_modules/stream-chat-react/dist/components/MessageActions/MessageActions.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { ActionsIcon as DefaultActionsIcon } from '../Message/icons';\nimport { isUserMuted } from '../Message/utils';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useMessageContext } from '../../context/MessageContext';\nexport var MessageActions = function (props) {\n    var _a = props.ActionsIcon, ActionsIcon = _a === void 0 ? DefaultActionsIcon : _a, _b = props.customWrapperClass, customWrapperClass = _b === void 0 ? '' : _b, propGetMessageActions = props.getMessageActions, propHandleDelete = props.handleDelete, propHandleFlag = props.handleFlag, propHandleMute = props.handleMute, propHandlePin = props.handlePin, inline = props.inline, propMessage = props.message, messageWrapperRef = props.messageWrapperRef, mine = props.mine;\n    var mutes = useChatContext('MessageActions').mutes;\n    var _c = useMessageContext('MessageActions'), customMessageActions = _c.customMessageActions, contextGetMessageActions = _c.getMessageActions, contextHandleDelete = _c.handleDelete, contextHandleFlag = _c.handleFlag, contextHandleMute = _c.handleMute, contextHandlePin = _c.handlePin, isMyMessage = _c.isMyMessage, contextMessage = _c.message, setEditingState = _c.setEditingState;\n    var getMessageActions = propGetMessageActions || contextGetMessageActions;\n    var handleDelete = propHandleDelete || contextHandleDelete;\n    var handleFlag = propHandleFlag || contextHandleFlag;\n    var handleMute = propHandleMute || contextHandleMute;\n    var handlePin = propHandlePin || contextHandlePin;\n    var message = propMessage || contextMessage;\n    var _d = useState(false), actionsBoxOpen = _d[0], setActionsBoxOpen = _d[1];\n    var isMuted = useCallback(function () { return isUserMuted(message, mutes); }, [message, mutes]);\n    var hideOptions = useCallback(function (event) {\n        if (event instanceof KeyboardEvent && event.key !== 'Escape') {\n            return;\n        }\n        setActionsBoxOpen(false);\n    }, []);\n    var messageActions = getMessageActions();\n    var messageDeletedAt = !!(message === null || message === void 0 ? void 0 : message.deleted_at);\n    useEffect(function () {\n        if (messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current) {\n            messageWrapperRef.current.addEventListener('mouseleave', hideOptions);\n        }\n    }, [hideOptions, messageWrapperRef]);\n    useEffect(function () {\n        if (messageDeletedAt) {\n            document.removeEventListener('click', hideOptions);\n        }\n    }, [hideOptions, messageDeletedAt]);\n    useEffect(function () {\n        if (!actionsBoxOpen)\n            return;\n        document.addEventListener('click', hideOptions);\n        document.addEventListener('keyup', hideOptions);\n        return function () {\n            document.removeEventListener('click', hideOptions);\n            document.removeEventListener('keyup', hideOptions);\n        };\n    }, [actionsBoxOpen, hideOptions]);\n    if (!messageActions.length && !customMessageActions)\n        return null;\n    return (React.createElement(MessageActionsWrapper, { customWrapperClass: customWrapperClass, inline: inline, setActionsBoxOpen: setActionsBoxOpen },\n        React.createElement(MessageActionsBox, { getMessageActions: getMessageActions, handleDelete: handleDelete, handleEdit: setEditingState, handleFlag: handleFlag, handleMute: handleMute, handlePin: handlePin, isUserMuted: isMuted, mine: mine ? mine() : isMyMessage(), open: actionsBoxOpen }),\n        React.createElement(\"button\", { \"aria-expanded\": actionsBoxOpen, \"aria-haspopup\": 'true', \"aria-label\": 'Open Message Actions Menu', className: 'str-chat__message-actions-box-button' },\n            React.createElement(ActionsIcon, { className: 'str-chat__message-action-icon' }))));\n};\nvar MessageActionsWrapper = function (props) {\n    var children = props.children, customWrapperClass = props.customWrapperClass, inline = props.inline, setActionsBoxOpen = props.setActionsBoxOpen;\n    var defaultWrapperClass = \"\\n  str-chat__message-simple__actions__action\\n  str-chat__message-simple__actions__action--options\\n  str-chat__message-actions-container\";\n    var wrapperClass = customWrapperClass || defaultWrapperClass;\n    var onClickOptionsAction = function (event) {\n        event.stopPropagation();\n        setActionsBoxOpen(function (prev) { return !prev; });\n    };\n    var wrapperProps = {\n        className: wrapperClass,\n        'data-testid': 'message-actions',\n        onClick: onClickOptionsAction,\n    };\n    if (inline)\n        return React.createElement(\"span\", __assign({}, wrapperProps), children);\n    return React.createElement(\"div\", __assign({}, wrapperProps), children);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}