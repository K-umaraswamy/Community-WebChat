{"ast":null,"code":"import * as linkify from 'linkifyjs';\nexport var getImageAttachmentConfiguration = function (attachment, element) {\n  var newUrl = undefined;\n  var urlToTest = attachment.image_url || attachment.thumb_url || '';\n  if (linkify.test(urlToTest, 'url')) {\n    var url = new URL(urlToTest);\n    var resizeDimensions = getSizingRestrictions(url, element);\n    if (resizeDimensions) {\n      // Apply 2x for retina displays\n      resizeDimensions.height *= 2;\n      resizeDimensions.width *= 2;\n      addResizingParamsToUrl(resizeDimensions, url);\n    }\n    newUrl = url.href;\n  }\n  return {\n    url: newUrl || ''\n  };\n};\nexport var getVideoAttachmentConfiguration = function (attachment, element, shouldGenerateVideoThumbnail) {\n  var thumbUrl = undefined;\n  if (attachment.thumb_url && shouldGenerateVideoThumbnail && linkify.test(attachment.thumb_url, 'url')) {\n    var url = new URL(attachment.thumb_url);\n    var resizeDimensions = getSizingRestrictions(url, element);\n    if (resizeDimensions) {\n      // Apply 2x for retina displays\n      resizeDimensions.height *= 2;\n      resizeDimensions.width *= 2;\n      addResizingParamsToUrl(resizeDimensions, url);\n    }\n    thumbUrl = url.href;\n  }\n  return {\n    thumbUrl: thumbUrl,\n    url: attachment.asset_url || ''\n  };\n};\nvar getSizingRestrictions = function (url, htmlElement) {\n  var urlParams = url.searchParams;\n  var originalHeight = Number(urlParams.get('oh')) || 1;\n  var originalWidth = Number(urlParams.get('ow')) || 1;\n  var cssSizeRestriction = getCSSSizeRestrictions(htmlElement);\n  var resizeDimensions;\n  if ((cssSizeRestriction.maxHeight || cssSizeRestriction.height) && cssSizeRestriction.maxWidth) {\n    resizeDimensions = getResizeDimensions(originalHeight, originalWidth, /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n    cssSizeRestriction.maxHeight || cssSizeRestriction.height, cssSizeRestriction.maxWidth);\n  } else {\n    resizeDimensions = undefined;\n  }\n  return resizeDimensions;\n};\nvar getResizeDimensions = function (originalHeight, originalWidth, maxHeight, maxWidth) {\n  return {\n    height: Math.round(Math.max(maxHeight, maxWidth / originalWidth * originalHeight)),\n    width: Math.round(Math.max(maxHeight, maxWidth / originalHeight * originalWidth))\n  };\n};\nvar getCSSSizeRestrictions = function (htmlElement) {\n  var computedStylesheet = getComputedStyle(htmlElement);\n  var height = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('height'));\n  var maxHeight = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('max-height'));\n  var maxWidth = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('max-width'));\n  if (!((height || maxHeight) && maxWidth)) {\n    console.warn(\"Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/react/message-components/attachment/#image-and-video-sizing\");\n  }\n  return {\n    height: height,\n    maxHeight: maxHeight,\n    maxWidth: maxWidth\n  };\n};\nvar getValueRepresentationOfCSSProperty = function (property) {\n  if (!property.endsWith('px')) {\n    return undefined;\n  }\n  var number = parseFloat(property);\n  return isNaN(number) ? undefined : number;\n};\nvar addResizingParamsToUrl = function (resizeDimensions, url) {\n  url.searchParams.set('h', resizeDimensions.height.toString());\n  url.searchParams.set('w', resizeDimensions.width.toString());\n};","map":{"version":3,"names":["linkify","getImageAttachmentConfiguration","attachment","element","newUrl","undefined","urlToTest","image_url","thumb_url","test","url","URL","resizeDimensions","getSizingRestrictions","height","width","addResizingParamsToUrl","href","getVideoAttachmentConfiguration","shouldGenerateVideoThumbnail","thumbUrl","asset_url","htmlElement","urlParams","searchParams","originalHeight","Number","get","originalWidth","cssSizeRestriction","getCSSSizeRestrictions","maxHeight","maxWidth","getResizeDimensions","Math","round","max","computedStylesheet","getComputedStyle","getValueRepresentationOfCSSProperty","getPropertyValue","console","warn","property","endsWith","number","parseFloat","isNaN","set","toString"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/Community_Chat-project/client/node_modules/stream-chat-react/dist/components/Attachment/attachment-sizing.js"],"sourcesContent":["import * as linkify from 'linkifyjs';\nexport var getImageAttachmentConfiguration = function (attachment, element) {\n    var newUrl = undefined;\n    var urlToTest = attachment.image_url || attachment.thumb_url || '';\n    if (linkify.test(urlToTest, 'url')) {\n        var url = new URL(urlToTest);\n        var resizeDimensions = getSizingRestrictions(url, element);\n        if (resizeDimensions) {\n            // Apply 2x for retina displays\n            resizeDimensions.height *= 2;\n            resizeDimensions.width *= 2;\n            addResizingParamsToUrl(resizeDimensions, url);\n        }\n        newUrl = url.href;\n    }\n    return {\n        url: newUrl || '',\n    };\n};\nexport var getVideoAttachmentConfiguration = function (attachment, element, shouldGenerateVideoThumbnail) {\n    var thumbUrl = undefined;\n    if (attachment.thumb_url &&\n        shouldGenerateVideoThumbnail &&\n        linkify.test(attachment.thumb_url, 'url')) {\n        var url = new URL(attachment.thumb_url);\n        var resizeDimensions = getSizingRestrictions(url, element);\n        if (resizeDimensions) {\n            // Apply 2x for retina displays\n            resizeDimensions.height *= 2;\n            resizeDimensions.width *= 2;\n            addResizingParamsToUrl(resizeDimensions, url);\n        }\n        thumbUrl = url.href;\n    }\n    return {\n        thumbUrl: thumbUrl,\n        url: attachment.asset_url || '',\n    };\n};\nvar getSizingRestrictions = function (url, htmlElement) {\n    var urlParams = url.searchParams;\n    var originalHeight = Number(urlParams.get('oh')) || 1;\n    var originalWidth = Number(urlParams.get('ow')) || 1;\n    var cssSizeRestriction = getCSSSizeRestrictions(htmlElement);\n    var resizeDimensions;\n    if ((cssSizeRestriction.maxHeight || cssSizeRestriction.height) && cssSizeRestriction.maxWidth) {\n        resizeDimensions = getResizeDimensions(originalHeight, originalWidth, \n        /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n        cssSizeRestriction.maxHeight || cssSizeRestriction.height, cssSizeRestriction.maxWidth);\n    }\n    else {\n        resizeDimensions = undefined;\n    }\n    return resizeDimensions;\n};\nvar getResizeDimensions = function (originalHeight, originalWidth, maxHeight, maxWidth) { return ({\n    height: Math.round(Math.max(maxHeight, (maxWidth / originalWidth) * originalHeight)),\n    width: Math.round(Math.max(maxHeight, (maxWidth / originalHeight) * originalWidth)),\n}); };\nvar getCSSSizeRestrictions = function (htmlElement) {\n    var computedStylesheet = getComputedStyle(htmlElement);\n    var height = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('height'));\n    var maxHeight = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('max-height'));\n    var maxWidth = getValueRepresentationOfCSSProperty(computedStylesheet.getPropertyValue('max-width'));\n    if (!((height || maxHeight) && maxWidth)) {\n        console.warn(\"Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/react/message-components/attachment/#image-and-video-sizing\");\n    }\n    return { height: height, maxHeight: maxHeight, maxWidth: maxWidth };\n};\nvar getValueRepresentationOfCSSProperty = function (property) {\n    if (!property.endsWith('px')) {\n        return undefined;\n    }\n    var number = parseFloat(property);\n    return isNaN(number) ? undefined : number;\n};\nvar addResizingParamsToUrl = function (resizeDimensions, url) {\n    url.searchParams.set('h', resizeDimensions.height.toString());\n    url.searchParams.set('w', resizeDimensions.width.toString());\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}