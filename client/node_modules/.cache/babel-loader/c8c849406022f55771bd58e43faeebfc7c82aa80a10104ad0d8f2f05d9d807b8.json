{"ast":null,"code":"import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { DeliveredCheckIcon, MessageDeliveredIcon } from './icons';\nimport { getReadByTooltipText, mapToUserNameOrId } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { LoadingIndicator } from '../Loading';\nimport { PopperTooltip, Tooltip } from '../Tooltip';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedMessageStatus = function (props) {\n  var _a;\n  var propAvatar = props.Avatar,\n    _b = props.messageType,\n    messageType = _b === void 0 ? 'simple' : _b,\n    _c = props.tooltipUserNameMapper,\n    tooltipUserNameMapper = _c === void 0 ? mapToUserNameOrId : _c;\n  var _d = useEnterLeaveHandlers(),\n    handleEnter = _d.handleEnter,\n    handleLeave = _d.handleLeave,\n    tooltipVisible = _d.tooltipVisible;\n  var client = useChatContext('MessageStatus').client;\n  var contextAvatar = useComponentContext('MessageStatus').Avatar;\n  var _e = useMessageContext('MessageStatus'),\n    isMyMessage = _e.isMyMessage,\n    lastReceivedId = _e.lastReceivedId,\n    message = _e.message,\n    readBy = _e.readBy,\n    threadList = _e.threadList;\n  var t = useTranslationContext('MessageStatus').t;\n  var themeVersion = useChatContext('MessageStatus').themeVersion;\n  var _f = useState(null),\n    referenceElement = _f[0],\n    setReferenceElement = _f[1];\n  var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n  if (!isMyMessage() || message.type === 'error') return null;\n  var justReadByMe = (readBy === null || readBy === void 0 ? void 0 : readBy.length) === 1 && readBy[0].id === ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n  var rootClassName = \"str-chat__message-\".concat(messageType, \"-status str-chat__message-status\");\n  var sending = message.status === 'sending';\n  var delivered = message.status === 'received' && message.id === lastReceivedId && !threadList;\n  var deliveredAndRead = !!((readBy === null || readBy === void 0 ? void 0 : readBy.length) && !threadList && !justReadByMe);\n  var lastReadUser = (deliveredAndRead ? readBy.filter(function (item) {\n    var _a;\n    return item.id !== ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n  }) : [])[0];\n  return React.createElement(\"span\", {\n    className: rootClassName,\n    \"data-testid\": clsx({\n      'message-status-read-by': deliveredAndRead,\n      'message-status-received': delivered && !deliveredAndRead,\n      'message-status-sending': sending\n    }),\n    onMouseEnter: handleEnter,\n    onMouseLeave: handleLeave,\n    ref: setReferenceElement\n  }, sending && React.createElement(React.Fragment, null, themeVersion === '1' && React.createElement(Tooltip, null, t('Sending...')), themeVersion === '2' && React.createElement(PopperTooltip, {\n    offset: [0, 5],\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, t('Sending...')), React.createElement(LoadingIndicator, null)), delivered && !deliveredAndRead && React.createElement(React.Fragment, null, themeVersion === '1' && React.createElement(Tooltip, null, t('Delivered')), themeVersion === '2' && React.createElement(PopperTooltip, {\n    offset: [0, 5],\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, t('Delivered')), themeVersion === '2' ? React.createElement(MessageDeliveredIcon, null) : React.createElement(DeliveredCheckIcon, null)), deliveredAndRead && React.createElement(React.Fragment, null, themeVersion === '1' && React.createElement(Tooltip, null, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper)), themeVersion === '2' && React.createElement(PopperTooltip, {\n    offset: [0, 5],\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper)), React.createElement(Avatar, {\n    image: lastReadUser.image,\n    name: lastReadUser.name || lastReadUser.id,\n    size: 15,\n    user: lastReadUser\n  }), readBy.length > 2 && React.createElement(\"span\", {\n    className: \"str-chat__message-\".concat(messageType, \"-status-number\"),\n    \"data-testid\": 'message-status-read-by-many'\n  }, readBy.length - 1)));\n};\nexport var MessageStatus = React.memo(UnMemoizedMessageStatus);","map":{"version":3,"names":["React","useState","clsx","DeliveredCheckIcon","MessageDeliveredIcon","getReadByTooltipText","mapToUserNameOrId","Avatar","DefaultAvatar","LoadingIndicator","PopperTooltip","Tooltip","useEnterLeaveHandlers","useChatContext","useComponentContext","useMessageContext","useTranslationContext","UnMemoizedMessageStatus","props","_a","propAvatar","_b","messageType","_c","tooltipUserNameMapper","_d","handleEnter","handleLeave","tooltipVisible","client","contextAvatar","_e","isMyMessage","lastReceivedId","message","readBy","threadList","t","themeVersion","_f","referenceElement","setReferenceElement","type","justReadByMe","length","id","user","rootClassName","concat","sending","status","delivered","deliveredAndRead","lastReadUser","filter","item","createElement","className","onMouseEnter","onMouseLeave","ref","Fragment","offset","visible","image","name","size","MessageStatus","memo"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/chat_Web/client/node_modules/stream-chat-react/dist/components/Message/MessageStatus.js"],"sourcesContent":["import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { DeliveredCheckIcon, MessageDeliveredIcon } from './icons';\nimport { getReadByTooltipText, mapToUserNameOrId } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { LoadingIndicator } from '../Loading';\nimport { PopperTooltip, Tooltip } from '../Tooltip';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedMessageStatus = function (props) {\n    var _a;\n    var propAvatar = props.Avatar, _b = props.messageType, messageType = _b === void 0 ? 'simple' : _b, _c = props.tooltipUserNameMapper, tooltipUserNameMapper = _c === void 0 ? mapToUserNameOrId : _c;\n    var _d = useEnterLeaveHandlers(), handleEnter = _d.handleEnter, handleLeave = _d.handleLeave, tooltipVisible = _d.tooltipVisible;\n    var client = useChatContext('MessageStatus').client;\n    var contextAvatar = useComponentContext('MessageStatus').Avatar;\n    var _e = useMessageContext('MessageStatus'), isMyMessage = _e.isMyMessage, lastReceivedId = _e.lastReceivedId, message = _e.message, readBy = _e.readBy, threadList = _e.threadList;\n    var t = useTranslationContext('MessageStatus').t;\n    var themeVersion = useChatContext('MessageStatus').themeVersion;\n    var _f = useState(null), referenceElement = _f[0], setReferenceElement = _f[1];\n    var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n    if (!isMyMessage() || message.type === 'error')\n        return null;\n    var justReadByMe = (readBy === null || readBy === void 0 ? void 0 : readBy.length) === 1 && readBy[0].id === ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id);\n    var rootClassName = \"str-chat__message-\".concat(messageType, \"-status str-chat__message-status\");\n    var sending = message.status === 'sending';\n    var delivered = message.status === 'received' && message.id === lastReceivedId && !threadList;\n    var deliveredAndRead = !!((readBy === null || readBy === void 0 ? void 0 : readBy.length) && !threadList && !justReadByMe);\n    var lastReadUser = (deliveredAndRead\n        ? readBy.filter(function (item) { var _a; return item.id !== ((_a = client.user) === null || _a === void 0 ? void 0 : _a.id); })\n        : [])[0];\n    return (React.createElement(\"span\", { className: rootClassName, \"data-testid\": clsx({\n            'message-status-read-by': deliveredAndRead,\n            'message-status-received': delivered && !deliveredAndRead,\n            'message-status-sending': sending,\n        }), onMouseEnter: handleEnter, onMouseLeave: handleLeave, ref: setReferenceElement },\n        sending && (React.createElement(React.Fragment, null,\n            themeVersion === '1' && React.createElement(Tooltip, null, t('Sending...')),\n            themeVersion === '2' && (React.createElement(PopperTooltip, { offset: [0, 5], referenceElement: referenceElement, visible: tooltipVisible }, t('Sending...'))),\n            React.createElement(LoadingIndicator, null))),\n        delivered && !deliveredAndRead && (React.createElement(React.Fragment, null,\n            themeVersion === '1' && React.createElement(Tooltip, null, t('Delivered')),\n            themeVersion === '2' && (React.createElement(PopperTooltip, { offset: [0, 5], referenceElement: referenceElement, visible: tooltipVisible }, t('Delivered'))),\n            themeVersion === '2' ? React.createElement(MessageDeliveredIcon, null) : React.createElement(DeliveredCheckIcon, null))),\n        deliveredAndRead && (React.createElement(React.Fragment, null,\n            themeVersion === '1' && (React.createElement(Tooltip, null, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper))),\n            themeVersion === '2' && (React.createElement(PopperTooltip, { offset: [0, 5], referenceElement: referenceElement, visible: tooltipVisible }, getReadByTooltipText(readBy, t, client, tooltipUserNameMapper))),\n            React.createElement(Avatar, { image: lastReadUser.image, name: lastReadUser.name || lastReadUser.id, size: 15, user: lastReadUser }),\n            readBy.length > 2 && (React.createElement(\"span\", { className: \"str-chat__message-\".concat(messageType, \"-status-number\"), \"data-testid\": 'message-status-read-by-many' }, readBy.length - 1))))));\n};\nexport var MessageStatus = React.memo(UnMemoizedMessageStatus);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}