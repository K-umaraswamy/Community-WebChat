{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useMemo, useState } from 'react';\nimport { useChannelStateContext, useChatContext } from '../../../context';\nexport var useCooldownTimer = function () {\n  var _a;\n  var _b = useChatContext('useCooldownTimer'),\n    client = _b.client,\n    latestMessageDatesByChannels = _b.latestMessageDatesByChannels;\n  var _c = useChannelStateContext('useCooldownTimer'),\n    channel = _c.channel,\n    _d = _c.messages,\n    messages = _d === void 0 ? [] : _d;\n  var _e = useState(),\n    cooldownRemaining = _e[0],\n    setCooldownRemaining = _e[1];\n  var _f = channel.data || {},\n    _g = _f.cooldown,\n    cooldownInterval = _g === void 0 ? 0 : _g,\n    own_capabilities = _f.own_capabilities;\n  var skipCooldown = own_capabilities === null || own_capabilities === void 0 ? void 0 : own_capabilities.includes('skip-slow-mode');\n  var ownLatestMessageDate = useMemo(function () {\n    var _a, _b;\n    return (_a = latestMessageDatesByChannels[channel.cid]) !== null && _a !== void 0 ? _a : (_b = __spreadArray([], messages, true).sort(function (a, b) {\n      var _a, _b;\n      return ((_a = b.created_at) === null || _a === void 0 ? void 0 : _a.getTime()) - ((_b = a.created_at) === null || _b === void 0 ? void 0 : _b.getTime());\n    }).find(function (v) {\n      var _a, _b;\n      return ((_a = v.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id);\n    })) === null || _b === void 0 ? void 0 : _b.created_at;\n  }, [messages, (_a = client.user) === null || _a === void 0 ? void 0 : _a.id, latestMessageDatesByChannels, channel.cid]);\n  useEffect(function () {\n    var timeSinceOwnLastMessage = ownLatestMessageDate ? (new Date().getTime() - ownLatestMessageDate.getTime()) / 1000 : undefined;\n    setCooldownRemaining(!skipCooldown && timeSinceOwnLastMessage && cooldownInterval > timeSinceOwnLastMessage ? Math.round(cooldownInterval - timeSinceOwnLastMessage) : 0);\n  }, [cooldownInterval, ownLatestMessageDate, skipCooldown]);\n  return {\n    cooldownInterval: cooldownInterval,\n    cooldownRemaining: cooldownRemaining,\n    setCooldownRemaining: setCooldownRemaining\n  };\n};","map":{"version":3,"names":["__spreadArray","to","from","pack","arguments","length","i","l","ar","Array","prototype","slice","call","concat","useEffect","useMemo","useState","useChannelStateContext","useChatContext","useCooldownTimer","_a","_b","client","latestMessageDatesByChannels","_c","channel","_d","messages","_e","cooldownRemaining","setCooldownRemaining","_f","data","_g","cooldown","cooldownInterval","own_capabilities","skipCooldown","includes","ownLatestMessageDate","cid","sort","a","b","created_at","getTime","find","v","user","id","timeSinceOwnLastMessage","Date","undefined","Math","round"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/Community_Chat-project/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useCooldownTimer.js"],"sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useEffect, useMemo, useState } from 'react';\nimport { useChannelStateContext, useChatContext } from '../../../context';\nexport var useCooldownTimer = function () {\n    var _a;\n    var _b = useChatContext('useCooldownTimer'), client = _b.client, latestMessageDatesByChannels = _b.latestMessageDatesByChannels;\n    var _c = useChannelStateContext('useCooldownTimer'), channel = _c.channel, _d = _c.messages, messages = _d === void 0 ? [] : _d;\n    var _e = useState(), cooldownRemaining = _e[0], setCooldownRemaining = _e[1];\n    var _f = (channel.data ||\n        {}), _g = _f.cooldown, cooldownInterval = _g === void 0 ? 0 : _g, own_capabilities = _f.own_capabilities;\n    var skipCooldown = own_capabilities === null || own_capabilities === void 0 ? void 0 : own_capabilities.includes('skip-slow-mode');\n    var ownLatestMessageDate = useMemo(function () {\n        var _a, _b;\n        return (_a = latestMessageDatesByChannels[channel.cid]) !== null && _a !== void 0 ? _a : (_b = __spreadArray([], messages, true).sort(function (a, b) { var _a, _b; return ((_a = b.created_at) === null || _a === void 0 ? void 0 : _a.getTime()) - ((_b = a.created_at) === null || _b === void 0 ? void 0 : _b.getTime()); })\n            .find(function (v) { var _a, _b; return ((_a = v.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id); })) === null || _b === void 0 ? void 0 : _b.created_at;\n    }, [messages, (_a = client.user) === null || _a === void 0 ? void 0 : _a.id, latestMessageDatesByChannels, channel.cid]);\n    useEffect(function () {\n        var timeSinceOwnLastMessage = ownLatestMessageDate\n            ? (new Date().getTime() - ownLatestMessageDate.getTime()) / 1000\n            : undefined;\n        setCooldownRemaining(!skipCooldown && timeSinceOwnLastMessage && cooldownInterval > timeSinceOwnLastMessage\n            ? Math.round(cooldownInterval - timeSinceOwnLastMessage)\n            : 0);\n    }, [cooldownInterval, ownLatestMessageDate, skipCooldown]);\n    return {\n        cooldownInterval: cooldownInterval,\n        cooldownRemaining: cooldownRemaining,\n        setCooldownRemaining: setCooldownRemaining,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}