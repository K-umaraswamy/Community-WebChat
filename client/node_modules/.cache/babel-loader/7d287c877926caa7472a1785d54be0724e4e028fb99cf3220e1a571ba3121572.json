{"ast":null,"code":"import { useMemo } from 'react';\nimport { getGroupStyles, insertIntro, processMessages } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useComponentContext } from '../../../context/ComponentContext';\nexport var useEnrichedMessages = function (args) {\n  var channel = args.channel,\n    disableDateSeparator = args.disableDateSeparator,\n    groupStyles = args.groupStyles,\n    headerPosition = args.headerPosition,\n    hideDeletedMessages = args.hideDeletedMessages,\n    hideNewMessageSeparator = args.hideNewMessageSeparator,\n    messages = args.messages,\n    noGroupByUser = args.noGroupByUser;\n  var client = useChatContext('useEnrichedMessages').client;\n  var HeaderComponent = useComponentContext('useEnrichedMessages').HeaderComponent;\n  var lastRead = useMemo(function () {\n    var _a;\n    return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel);\n  }, [channel]);\n  var enableDateSeparator = !disableDateSeparator;\n  var messagesWithDates = !enableDateSeparator && !hideDeletedMessages && hideNewMessageSeparator ? messages : processMessages({\n    enableDateSeparator: enableDateSeparator,\n    hideDeletedMessages: hideDeletedMessages,\n    hideNewMessageSeparator: hideNewMessageSeparator,\n    lastRead: lastRead,\n    messages: messages,\n    userId: client.userID || ''\n  });\n  if (HeaderComponent) {\n    messagesWithDates = insertIntro(messagesWithDates, headerPosition);\n  }\n  var groupStylesFn = groupStyles || getGroupStyles;\n  var messageGroupStyles = useMemo(function () {\n    return messagesWithDates.reduce(function (acc, message, i) {\n      var style = groupStylesFn(message, messagesWithDates[i - 1], messagesWithDates[i + 1], noGroupByUser);\n      if (style) acc[message.id] = style;\n      return acc;\n    }, {});\n  }, [messagesWithDates, noGroupByUser]);\n  return {\n    messageGroupStyles: messageGroupStyles,\n    messages: messagesWithDates\n  };\n};","map":{"version":3,"names":["useMemo","getGroupStyles","insertIntro","processMessages","useChatContext","useComponentContext","useEnrichedMessages","args","channel","disableDateSeparator","groupStyles","headerPosition","hideDeletedMessages","hideNewMessageSeparator","messages","noGroupByUser","client","HeaderComponent","lastRead","_a","call","enableDateSeparator","messagesWithDates","userId","userID","groupStylesFn","messageGroupStyles","reduce","acc","message","i","style","id"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/chat_Web/client/node_modules/stream-chat-react/dist/components/MessageList/hooks/useEnrichedMessages.js"],"sourcesContent":["import { useMemo } from 'react';\nimport { getGroupStyles, insertIntro, processMessages } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useComponentContext } from '../../../context/ComponentContext';\nexport var useEnrichedMessages = function (args) {\n    var channel = args.channel, disableDateSeparator = args.disableDateSeparator, groupStyles = args.groupStyles, headerPosition = args.headerPosition, hideDeletedMessages = args.hideDeletedMessages, hideNewMessageSeparator = args.hideNewMessageSeparator, messages = args.messages, noGroupByUser = args.noGroupByUser;\n    var client = useChatContext('useEnrichedMessages').client;\n    var HeaderComponent = useComponentContext('useEnrichedMessages').HeaderComponent;\n    var lastRead = useMemo(function () { var _a; return (_a = channel.lastRead) === null || _a === void 0 ? void 0 : _a.call(channel); }, [channel]);\n    var enableDateSeparator = !disableDateSeparator;\n    var messagesWithDates = !enableDateSeparator && !hideDeletedMessages && hideNewMessageSeparator\n        ? messages\n        : processMessages({\n            enableDateSeparator: enableDateSeparator,\n            hideDeletedMessages: hideDeletedMessages,\n            hideNewMessageSeparator: hideNewMessageSeparator,\n            lastRead: lastRead,\n            messages: messages,\n            userId: client.userID || '',\n        });\n    if (HeaderComponent) {\n        messagesWithDates = insertIntro(messagesWithDates, headerPosition);\n    }\n    var groupStylesFn = groupStyles || getGroupStyles;\n    var messageGroupStyles = useMemo(function () {\n        return messagesWithDates.reduce(function (acc, message, i) {\n            var style = groupStylesFn(message, messagesWithDates[i - 1], messagesWithDates[i + 1], noGroupByUser);\n            if (style)\n                acc[message.id] = style;\n            return acc;\n        }, {});\n    }, [messagesWithDates, noGroupByUser]);\n    return { messageGroupStyles: messageGroupStyles, messages: messagesWithDates };\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,cAAc,EAAEC,WAAW,EAAEC,eAAe,QAAQ,UAAU;AACvE,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,mBAAmB,QAAQ,mCAAmC;AACvE,OAAO,IAAIC,mBAAmB,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC7C,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAO;IAAEC,oBAAoB,GAAGF,IAAI,CAACE,oBAAoB;IAAEC,WAAW,GAAGH,IAAI,CAACG,WAAW;IAAEC,cAAc,GAAGJ,IAAI,CAACI,cAAc;IAAEC,mBAAmB,GAAGL,IAAI,CAACK,mBAAmB;IAAEC,uBAAuB,GAAGN,IAAI,CAACM,uBAAuB;IAAEC,QAAQ,GAAGP,IAAI,CAACO,QAAQ;IAAEC,aAAa,GAAGR,IAAI,CAACQ,aAAa;EACxT,IAAIC,MAAM,GAAGZ,cAAc,CAAC,qBAAqB,CAAC,CAACY,MAAM;EACzD,IAAIC,eAAe,GAAGZ,mBAAmB,CAAC,qBAAqB,CAAC,CAACY,eAAe;EAChF,IAAIC,QAAQ,GAAGlB,OAAO,CAAC,YAAY;IAAE,IAAImB,EAAE;IAAE,OAAO,CAACA,EAAE,GAAGX,OAAO,CAACU,QAAQ,MAAM,IAAI,IAAIC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACZ,OAAO,CAAC;EAAE,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAChJ,IAAIa,mBAAmB,GAAG,CAACZ,oBAAoB;EAC/C,IAAIa,iBAAiB,GAAG,CAACD,mBAAmB,IAAI,CAACT,mBAAmB,IAAIC,uBAAuB,GACzFC,QAAQ,GACRX,eAAe,CAAC;IACdkB,mBAAmB,EAAEA,mBAAmB;IACxCT,mBAAmB,EAAEA,mBAAmB;IACxCC,uBAAuB,EAAEA,uBAAuB;IAChDK,QAAQ,EAAEA,QAAQ;IAClBJ,QAAQ,EAAEA,QAAQ;IAClBS,MAAM,EAAEP,MAAM,CAACQ,MAAM,IAAI;EAC7B,CAAC,CAAC;EACN,IAAIP,eAAe,EAAE;IACjBK,iBAAiB,GAAGpB,WAAW,CAACoB,iBAAiB,EAAEX,cAAc,CAAC;EACtE;EACA,IAAIc,aAAa,GAAGf,WAAW,IAAIT,cAAc;EACjD,IAAIyB,kBAAkB,GAAG1B,OAAO,CAAC,YAAY;IACzC,OAAOsB,iBAAiB,CAACK,MAAM,CAAC,UAAUC,GAAG,EAAEC,OAAO,EAAEC,CAAC,EAAE;MACvD,IAAIC,KAAK,GAAGN,aAAa,CAACI,OAAO,EAAEP,iBAAiB,CAACQ,CAAC,GAAG,CAAC,CAAC,EAAER,iBAAiB,CAACQ,CAAC,GAAG,CAAC,CAAC,EAAEf,aAAa,CAAC;MACrG,IAAIgB,KAAK,EACLH,GAAG,CAACC,OAAO,CAACG,EAAE,CAAC,GAAGD,KAAK;MAC3B,OAAOH,GAAG;IACd,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,EAAE,CAACN,iBAAiB,EAAEP,aAAa,CAAC,CAAC;EACtC,OAAO;IAAEW,kBAAkB,EAAEA,kBAAkB;IAAEZ,QAAQ,EAAEQ;EAAkB,CAAC;AAClF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}