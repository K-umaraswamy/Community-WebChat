{"ast":null,"code":"import { useCallback, useMemo } from 'react';\nimport { getStrippedEmojiData } from '../../Channel/emojiData';\nimport { useMessageContext } from '../../../context';\nexport var useProcessReactions = function (params) {\n  var _a = params.additionalEmojiProps,\n    additionalEmojiProps = _a === void 0 ? {} : _a,\n    emojiConfig = params.emojiConfig,\n    propOwnReactions = params.own_reactions,\n    propReactionCounts = params.reaction_counts,\n    propReactionOptions = params.reactionOptions,\n    propReactions = params.reactions;\n  var message = useMessageContext('ReactionsList').message;\n  var _b = emojiConfig || {},\n    defaultMinimalEmojis = _b.defaultMinimalEmojis,\n    fullEmojiData = _b.emojiData,\n    emojiSetDef = _b.emojiSetDef;\n  var latestReactions = propReactions || message.latest_reactions || [];\n  var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n  var reactionCounts = propReactionCounts || message.reaction_counts || {};\n  var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n  var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n  var iHaveReactedWithReaction = useCallback(function (reactionType) {\n    return ownReactions.find(function (reaction) {\n      return reaction.type === reactionType;\n    });\n  }, [ownReactions]);\n  var getEmojiByReactionType = useCallback(function (type) {\n    return reactionOptions.find(function (option) {\n      return option.id === type;\n    });\n  }, [reactionOptions]);\n  var emojiData = useMemo(function () {\n    return reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData);\n  }, [fullEmojiData, reactionsAreCustom]);\n  var latestReactionTypes = useMemo(function () {\n    return latestReactions.reduce(function (reactionTypes, _a) {\n      var type = _a.type;\n      if (reactionTypes.indexOf(type) === -1) {\n        reactionTypes.push(type);\n      }\n      return reactionTypes;\n    }, []);\n  }, [latestReactions]);\n  var supportedReactionMap = useMemo(function () {\n    return reactionOptions.reduce(function (acc, _a) {\n      var id = _a.id;\n      acc[id] = true;\n      return acc;\n    }, {});\n  }, [reactionOptions]);\n  var supportedReactionsArePresent = useMemo(function () {\n    return latestReactionTypes.some(function (type) {\n      return supportedReactionMap[type];\n    });\n  }, [latestReactionTypes, supportedReactionMap]);\n  var totalReactionCount = useMemo(function () {\n    return supportedReactionsArePresent ? Object.values(reactionCounts).reduce(function (total, count) {\n      return total + count;\n    }, 0) : 0;\n  }, [reactionCounts, supportedReactionsArePresent]);\n  var aggregatedUserNamesByType = useMemo(function () {\n    return latestReactions.reduce(function (typeMap, _a) {\n      var _b;\n      var type = _a.type,\n        user = _a.user;\n      (_b = typeMap[type]) !== null && _b !== void 0 ? _b : typeMap[type] = [];\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      typeMap[type].push((user === null || user === void 0 ? void 0 : user.name) || user.id);\n      return typeMap;\n    }, {});\n  }, [latestReactions]);\n  return {\n    additionalEmojiProps: reactionsAreCustom ? additionalEmojiProps : emojiSetDef,\n    aggregatedUserNamesByType: aggregatedUserNamesByType,\n    emojiData: emojiData,\n    getEmojiByReactionType: getEmojiByReactionType,\n    iHaveReactedWithReaction: iHaveReactedWithReaction,\n    latestReactions: latestReactions,\n    latestReactionTypes: latestReactionTypes,\n    reactionCounts: reactionCounts,\n    supportedReactionsArePresent: supportedReactionsArePresent,\n    totalReactionCount: totalReactionCount\n  };\n};","map":{"version":3,"names":["useCallback","useMemo","getStrippedEmojiData","useMessageContext","useProcessReactions","params","_a","additionalEmojiProps","emojiConfig","propOwnReactions","own_reactions","propReactionCounts","reaction_counts","propReactionOptions","reactionOptions","propReactions","reactions","message","_b","defaultMinimalEmojis","fullEmojiData","emojiData","emojiSetDef","latestReactions","latest_reactions","ownReactions","reactionCounts","reactionsAreCustom","length","iHaveReactedWithReaction","reactionType","find","reaction","type","getEmojiByReactionType","option","id","latestReactionTypes","reduce","reactionTypes","indexOf","push","supportedReactionMap","acc","supportedReactionsArePresent","some","totalReactionCount","Object","values","total","count","aggregatedUserNamesByType","typeMap","user","name"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/Community_Chat-project/client/node_modules/stream-chat-react/dist/components/Reactions/hooks/useProcessReactions.js"],"sourcesContent":["import { useCallback, useMemo } from 'react';\nimport { getStrippedEmojiData } from '../../Channel/emojiData';\nimport { useMessageContext } from '../../../context';\nexport var useProcessReactions = function (params) {\n    var _a = params.additionalEmojiProps, additionalEmojiProps = _a === void 0 ? {} : _a, emojiConfig = params.emojiConfig, propOwnReactions = params.own_reactions, propReactionCounts = params.reaction_counts, propReactionOptions = params.reactionOptions, propReactions = params.reactions;\n    var message = useMessageContext('ReactionsList').message;\n    var _b = emojiConfig || {}, defaultMinimalEmojis = _b.defaultMinimalEmojis, fullEmojiData = _b.emojiData, emojiSetDef = _b.emojiSetDef;\n    var latestReactions = propReactions || message.latest_reactions || [];\n    var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n    var reactionCounts = propReactionCounts || message.reaction_counts || {};\n    var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n    var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n    var iHaveReactedWithReaction = useCallback(function (reactionType) { return ownReactions.find(function (reaction) { return reaction.type === reactionType; }); }, [ownReactions]);\n    var getEmojiByReactionType = useCallback(function (type) {\n        return reactionOptions.find(function (option) { return option.id === type; });\n    }, [reactionOptions]);\n    var emojiData = useMemo(function () { return (reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData)); }, [fullEmojiData, reactionsAreCustom]);\n    var latestReactionTypes = useMemo(function () {\n        return latestReactions.reduce(function (reactionTypes, _a) {\n            var type = _a.type;\n            if (reactionTypes.indexOf(type) === -1) {\n                reactionTypes.push(type);\n            }\n            return reactionTypes;\n        }, []);\n    }, [latestReactions]);\n    var supportedReactionMap = useMemo(function () {\n        return reactionOptions.reduce(function (acc, _a) {\n            var id = _a.id;\n            acc[id] = true;\n            return acc;\n        }, {});\n    }, [reactionOptions]);\n    var supportedReactionsArePresent = useMemo(function () { return latestReactionTypes.some(function (type) { return supportedReactionMap[type]; }); }, [latestReactionTypes, supportedReactionMap]);\n    var totalReactionCount = useMemo(function () {\n        return supportedReactionsArePresent\n            ? Object.values(reactionCounts).reduce(function (total, count) { return total + count; }, 0)\n            : 0;\n    }, [reactionCounts, supportedReactionsArePresent]);\n    var aggregatedUserNamesByType = useMemo(function () {\n        return latestReactions.reduce(function (typeMap, _a) {\n            var _b;\n            var type = _a.type, user = _a.user;\n            (_b = typeMap[type]) !== null && _b !== void 0 ? _b : (typeMap[type] = []);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            typeMap[type].push((user === null || user === void 0 ? void 0 : user.name) || user.id);\n            return typeMap;\n        }, {});\n    }, [latestReactions]);\n    return {\n        additionalEmojiProps: reactionsAreCustom ? additionalEmojiProps : emojiSetDef,\n        aggregatedUserNamesByType: aggregatedUserNamesByType,\n        emojiData: emojiData,\n        getEmojiByReactionType: getEmojiByReactionType,\n        iHaveReactedWithReaction: iHaveReactedWithReaction,\n        latestReactions: latestReactions,\n        latestReactionTypes: latestReactionTypes,\n        reactionCounts: reactionCounts,\n        supportedReactionsArePresent: supportedReactionsArePresent,\n        totalReactionCount: totalReactionCount,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}