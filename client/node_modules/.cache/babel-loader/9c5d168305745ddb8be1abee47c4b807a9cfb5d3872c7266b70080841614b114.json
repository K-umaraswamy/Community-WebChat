{"ast":null,"code":"import React from 'react';\nimport clsx from 'clsx';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar useJoinTypingUsers = function (names) {\n  var t = useTranslationContext().t;\n  if (!names.length) return null;\n  var name = names[0],\n    rest = names.slice(1);\n  if (names.length === 1) return t('{{ user }} is typing...', {\n    user: name\n  });\n  var MAX_JOINED_USERS = 3;\n  var isLargeArray = names.length > MAX_JOINED_USERS;\n  var joinedUsers = (isLargeArray ? names.slice(0, MAX_JOINED_USERS) : rest).join(', ').trim();\n  if (isLargeArray) return t('{{ users }} and more are typing...', {\n    users: joinedUsers\n  });\n  return t('{{ users }} and {{ user }} are typing...', {\n    user: name,\n    users: joinedUsers\n  });\n};\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\nvar UnMemoizedTypingIndicator = function (props) {\n  var PropAvatar = props.Avatar,\n    _a = props.avatarSize,\n    avatarSize = _a === void 0 ? 32 : _a,\n    threadList = props.threadList;\n  var _b = useChannelStateContext('TypingIndicator'),\n    channelConfig = _b.channelConfig,\n    thread = _b.thread;\n  var _c = useChatContext('TypingIndicator'),\n    client = _c.client,\n    themeVersion = _c.themeVersion;\n  var ContextAvatar = useComponentContext('TypingIndicator').Avatar;\n  var _d = useTypingContext('TypingIndicator').typing,\n    typing = _d === void 0 ? {} : _d;\n  var Avatar = PropAvatar || ContextAvatar || DefaultAvatar;\n  var typingInChannel = !threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n    var parent_id = _a.parent_id,\n      user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n  }) : [];\n  var typingInThread = threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n    var parent_id = _a.parent_id,\n      user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n  }) : [];\n  var typingUserList = (threadList ? typingInThread : typingInChannel).map(function (_a) {\n    var user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n  }).filter(Boolean);\n  var joinedTypingUsers = useJoinTypingUsers(typingUserList);\n  var isTypingActive = threadList && typingInThread.length || !threadList && typingInChannel.length;\n  if ((channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.typing_events) === false) {\n    return null;\n  }\n  if (themeVersion === '2') {\n    if (!isTypingActive) return null;\n    return React.createElement(\"div\", {\n      className: clsx('str-chat__typing-indicator', {\n        'str-chat__typing-indicator--typing': isTypingActive\n      }),\n      \"data-testid\": 'typing-indicator'\n    }, React.createElement(\"div\", {\n      className: 'str-chat__typing-indicator__dots'\n    }, React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    }), React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    }), React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    })), React.createElement(\"div\", {\n      className: 'str-chat__typing-indicator__users',\n      \"data-testid\": 'typing-users'\n    }, joinedTypingUsers));\n  }\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__typing-indicator', {\n      'str-chat__typing-indicator--typing': isTypingActive\n    })\n  }, React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__avatars'\n  }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n    var user = _a.user;\n    return React.createElement(Avatar, {\n      image: user === null || user === void 0 ? void 0 : user.image,\n      key: \"\".concat(user === null || user === void 0 ? void 0 : user.id, \"-\").concat(i),\n      name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id),\n      size: avatarSize,\n      user: user\n    });\n  })), React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__dots'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  })));\n};\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);","map":{"version":3,"names":["React","clsx","Avatar","DefaultAvatar","useChannelStateContext","useChatContext","useComponentContext","useTypingContext","useTranslationContext","useJoinTypingUsers","names","t","length","name","rest","slice","user","MAX_JOINED_USERS","isLargeArray","joinedUsers","join","trim","users","UnMemoizedTypingIndicator","props","PropAvatar","_a","avatarSize","threadList","_b","channelConfig","thread","_c","client","themeVersion","ContextAvatar","_d","typing","typingInChannel","Object","values","filter","parent_id","id","typingInThread","typingUserList","map","Boolean","joinedTypingUsers","isTypingActive","typing_events","createElement","className","i","image","key","concat","size","TypingIndicator","memo"],"sources":["C:/Users/Amlanjyoti Pegu/Desktop/chat_Web/client/node_modules/stream-chat-react/dist/components/TypingIndicator/TypingIndicator.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar useJoinTypingUsers = function (names) {\n    var t = useTranslationContext().t;\n    if (!names.length)\n        return null;\n    var name = names[0], rest = names.slice(1);\n    if (names.length === 1)\n        return t('{{ user }} is typing...', {\n            user: name,\n        });\n    var MAX_JOINED_USERS = 3;\n    var isLargeArray = names.length > MAX_JOINED_USERS;\n    var joinedUsers = (isLargeArray ? names.slice(0, MAX_JOINED_USERS) : rest).join(', ').trim();\n    if (isLargeArray)\n        return t('{{ users }} and more are typing...', {\n            users: joinedUsers,\n        });\n    return t('{{ users }} and {{ user }} are typing...', {\n        user: name,\n        users: joinedUsers,\n    });\n};\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\nvar UnMemoizedTypingIndicator = function (props) {\n    var PropAvatar = props.Avatar, _a = props.avatarSize, avatarSize = _a === void 0 ? 32 : _a, threadList = props.threadList;\n    var _b = useChannelStateContext('TypingIndicator'), channelConfig = _b.channelConfig, thread = _b.thread;\n    var _c = useChatContext('TypingIndicator'), client = _c.client, themeVersion = _c.themeVersion;\n    var ContextAvatar = useComponentContext('TypingIndicator').Avatar;\n    var _d = useTypingContext('TypingIndicator').typing, typing = _d === void 0 ? {} : _d;\n    var Avatar = PropAvatar || ContextAvatar || DefaultAvatar;\n    var typingInChannel = !threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n        })\n        : [];\n    var typingInThread = threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n        })\n        : [];\n    var typingUserList = (threadList ? typingInThread : typingInChannel)\n        .map(function (_a) {\n        var user = _a.user;\n        return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n    })\n        .filter(Boolean);\n    var joinedTypingUsers = useJoinTypingUsers(typingUserList);\n    var isTypingActive = (threadList && typingInThread.length) || (!threadList && typingInChannel.length);\n    if ((channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.typing_events) === false) {\n        return null;\n    }\n    if (themeVersion === '2') {\n        if (!isTypingActive)\n            return null;\n        return (React.createElement(\"div\", { className: clsx('str-chat__typing-indicator', {\n                'str-chat__typing-indicator--typing': isTypingActive,\n            }), \"data-testid\": 'typing-indicator' },\n            React.createElement(\"div\", { className: 'str-chat__typing-indicator__dots' },\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' })),\n            React.createElement(\"div\", { className: 'str-chat__typing-indicator__users', \"data-testid\": 'typing-users' }, joinedTypingUsers)));\n    }\n    return (React.createElement(\"div\", { className: clsx('str-chat__typing-indicator', {\n            'str-chat__typing-indicator--typing': isTypingActive,\n        }) },\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__avatars' }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n            var user = _a.user;\n            return (React.createElement(Avatar, { image: user === null || user === void 0 ? void 0 : user.image, key: \"\".concat(user === null || user === void 0 ? void 0 : user.id, \"-\").concat(i), name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id), size: avatarSize, user: user }));\n        })),\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__dots' },\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }))));\n};\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}